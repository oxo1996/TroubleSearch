{%load staticfiles%}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR|Roboto&display=swap" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

<!DOCTYPE html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
<link rel="stylesheet" href="styles.css">

<style>
  ul{
    float:right;
    list-style-type: none;
    margin-top: 30px;
  }
  ul li{
    display : inline-block;
  }
  ul li a{
    text-decoration: none;
    font-family: 'Noto Sans KR', sans-serif;
    font-size: 15px;
    font-weight: bold;
    color:white;
    padding : 5px 20px;
    border : 1px solid transparent;
    transition: 0.6s ease;
  }
  ul li a:hover{
    background-color: white;
    color : white;
    text-decoration: none;
  }
 
  .logo img{
    position: absolute;
    margin-top: 30px;
    margin-left: 25px;
    float:left;
    width:25px;
    height: auto;
    left:30px;
  }
  .logo a{
    position: absolute;
    margin-top: 28px;
    margin-left: 60px;
    left:30px;
    text-decoration: none;
    font-family: Roboto;
    font-size: 20px;
    font-weight: bold;
    color:white;
  }
  .main{
    max-width: 1200px;
    margin: auto;
  }
  .row{
    position: relative;
    top : 13%;
    left : 12%;
    color : white;
    font-family: Noto Sans KR;
  }
  .searchComponent{
    margin : 30 30 0 30;
  }
  .title{
    margin-bottom : 20px;
  }
  body{
      background-image:url("{%static 'cosmetic.png'%}");
      height: 100vh;
      background-size : cover;
      background-repeat:no-repeat;
      background-position: center;
      /*min-height: 100%;
      min-width: 100%;*/
    }
  </style>

<header>
  <div class = "main">
<div class="logo">
  <img src = "{%static 'TSicon.png'%}"><a href={%url 'home'%}>TroubleSearch</a>
</div>
<ul>
  <li><a href={%url 'search'%}>자가진단</a></li>
  <li><a href={%url 'skin'%}>제품정보</a></li>
  <li><a href={%url 'symp'%}>증상정보</a></li>
  </ul>
</div>
</header>

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

<script type="text/javascript">


  $(document).ready(function(){
    var productCount = 1;
    
    
    
    
    

    $("#plus").click(function () {
      var searchProduct = $('#product1').clone();
      searchProduct.children('#product').empty();
      searchProduct.children('#plus').remove();
      var productId = 'product'+String(++productCount);
      searchProduct.attr('id',productId);
      //searchProduct.children("#categories").attr("name","새로운네임")
      searchProduct.appendTo("#using");
    
    });


    $("#categories").change(function(){
    var parentProduct = $("#categories").closest("div").attr('id');

    var brandName = $("#"+parentProduct+" #brand option:selected").val();
    var categoriesName = $("#"+parentProduct+" #categories option:selected").val();
    
    $.ajax({
      method:"GET",
      url : "{% url 'ajax' %}",
      dataType:"json",
      data : {brand:brandName, categories:categoriesName},
      success:function(data){ 
        $( "#"+parentProduct+" #product" ).empty();
        for(var productName in data){
          
          $("#"+parentProduct+" #product").append("<option value = productName>"+data[productName]+"</option>");
        }
      },
      error: function(request, status, error){
      alert("브랜드와 카테고리를 다시 설정해주세요!");
      }
      
    });

    });
  });
</script>

<body>
<div class="row">
  <div class="col-md-2">
  </div>
  <div class="col-md-8">
    <form class="search" action="{% url 'information' %}" method="POST" accept-charset="utf-8">
      {% csrf_token %}
      <div class="searchtitle">
        <h1>자가진단</h1>
      </div>
      <div class="searchComponent" style="font-size:17px;">
        <div class = "title"><h3>성별</h3></div>
        <div class="custom-control custom-radio custom-control-inline" >
          <input type="radio" id="gender1" name="gender"value="male"  class="custom-control-input">
          <label class="custom-control-label" for="gender1">남성</label>
        </div>
        
        <div class="custom-control custom-radio custom-control-inline" >
          <input type="radio" id="gender2" name="gender"value="female" class="custom-control-input">
          <label class="custom-control-label" for="gender2">여성</label>
        </div>
      </div>

      
      <div class="searchComponent" style="font-size:17px; ">
          <div class = "title"><h3>피부 타입</h3></div>
        <div class="custom-control custom-radio custom-control-inline" >
          <input type="radio" id="option1" name="skintype"value="option1"  class="custom-control-input">
          <label class="custom-control-label" for="option1">모름</label>
        </div>
        <div class="custom-control custom-radio custom-control-inline" >
          <input type="radio" id="option2" name="skintype"value="option2"  class="custom-control-input">
          <label class="custom-control-label" for="option2">건성</label>
        </div>
        <div class="custom-control custom-radio custom-control-inline" >
          <input type="radio" id="option3" name="skintype"value="option3"  class="custom-control-input">
          <label class="custom-control-label" for="option3">중성</label>
        </div>
        <div class="custom-control custom-radio custom-control-inline" >
          <input type="radio" id="option4" name="skintype"value="option4"  class="custom-control-input">
          <label class="custom-control-label" for="option4">지성</label>
        </div>
        <div class="custom-control custom-radio custom-control-inline" >
          <input type="radio" id="option5" name="skintype"value="option5"  class="custom-control-input">
          <label class="custom-control-label" for="option5">복합성</label>
        </div>
      </div>

      <div  id="using"class="searchComponent">

        <h3>사용 제품</h3>
        <div id= "product1" display="inline-block" style="color:black;">
          <select class = "brand" id = "brand" name = "brand" type="text">
            {%for brand in brand_list %}
            <option value={{brand}}>{{brand}}</option>
            {% endfor %}
          </select>
          <select class="categories" id = "categories" name = "categories" type="text">
            <option value="toner">토너</option>
            <option value="lotion">로션</option>
            <option value="essence">에센스</option>
            <option value="cream">크림</option>
          </select>
          <select class="product" id = "product" name = "product" type="text">
            
          </select>
          <input type="button" class="btn btn-default " id="plus"value="+"> 
        </div>


        
        
      </div>


      


      <div class="searchComponent" style="font-size:17px;">
          <div class = "title"><h3>증상 타입</h3></div>
        <div class="custom-control custom-radio custom-control-inline" >
          <input type="radio" id="pimple" name="symptom"value="pimple"  class="custom-control-input">
          <label class="custom-control-label" for="pimple">여드름</label>
        </div>
        <div class="custom-control custom-radio custom-control-inline" >
          <input type="radio" id="atopy" name="symptom"value="atopy"  class="custom-control-input">
          <label class="custom-control-label" for="atopy">아토피</label>
        </div>
        <div class="custom-control custom-radio custom-control-inline" >
          <input type="radio" id="toxicity" name="symptom"value="toxicity"  class="custom-control-input">
          <label class="custom-control-label" for="toxicity">두드러기</label>
        </div>
        <div class="custom-control custom-radio custom-control-inline" >
          <input type="radio" id="allergy" name="symptom"value="allergy"  class="custom-control-input">
          <label class="custom-control-label" for="allergy">알레르기</label>
        </div>
        <div class="custom-control custom-radio custom-control-inline" >
          <input type="radio" id="other" name="symptom" value="toxicity"  class="custom-control-input">
          <label class="custom-control-label" for="other">기타</label>
        </div> 
      </div>
      <div class="form-inline  searchComponent">
        <label for="exampleInputName2" style = "margin-left : 20px;"><h4>세부 증상 : </h4></label>
        <input type="text" class="form-control" id="" placeholder="" style = "margin-left : 20px;">
        <input type="button" class="btn btn-default" id="plus"value="+">
      </div>
      <div class="text-center"style="margin-top:30px">
        <input type="submit" class ="btn btn-primary btn-lg"value="완료">
      </div>
    </form>
  </div>
  <div class="col-md-2">

  </div>
</div>

</body>